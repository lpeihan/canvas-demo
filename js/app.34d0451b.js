(function(t){function e(e){for(var i,r,s=e[0],c=e[1],h=e[2],l=0,d=[];l<s.length;l++)r=s[l],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&d.push(a[r][0]),a[r]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);u&&u(e);while(d.length)d.shift()();return o.push.apply(o,h||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],i=!0,s=1;s<n.length;s++){var c=n[s];0!==a[c]&&(i=!1)}i&&(o.splice(e--,1),t=r(r.s=n[0]))}return t}var i={},a={app:0},o=[];function r(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=i,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var h=0;h<s.length;h++)e(s[h]);var u=c;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"1dec":function(t,e,n){"use strict";var i=n("7e6a"),a=n.n(i);a.a},2395:function(t,e,n){},5572:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container",on:{touchmove:function(t){t.stopPropagation(),t.preventDefault()}}},[i("van-nav-bar",{attrs:{title:"刮刮卡",fixed:"","left-arrow":""},on:{"click-left":function(e){return t.$router.go(-1)}}}),i("div",{staticClass:"canvas-wrapper"},[i("img",{attrs:{src:n("8d5a")}}),i("canvas",{ref:"canvas",staticClass:"canvas",attrs:{width:"200",height:"300"}})])],1)},a=[],o={methods:{draw:function(){var t=this.$refs.canvas,e=t.getContext("2d"),n=!1,i=0,a=0;e.beginPath(),e.fillStyle="gray",e.fillRect(0,0,t.width,t.height),e.globalCompositeOperation="destination-out",e.lineWidth=30,t.ontouchstart=t.onmousedown=function(o){n=!0;var r=t.getBoundingClientRect();"touchstart"===o.type?(i=o.changedTouches[0].clientX-r.x,a=o.changedTouches[0].clientY-r.y):"mousedown"===o.type&&(i=o.clientX-r.x,a=o.clientY-r.y),e.lineCap="round",e.lineJoin="round",e.moveTo(i,a)},t.ontouchmove=t.onmousemove=function(o){if(n){var r=t.getBoundingClientRect();"touchmove"===o.type?(i=o.changedTouches[0].clientX-r.x,a=o.changedTouches[0].clientY-r.y):"mousemove"===o.type&&(i=o.clientX-r.x,a=o.clientY-r.y),e.lineTo(i,a),e.stroke()}},t.ontouchend=t.onmouseup=function(){n=!1;for(var i=e.getImageData(0,0,t.width,t.height).data,a=0,o=3,r=i.length;o<r;o+=4)0===i[o]&&a++;a>=t.width*t.height*.8&&e.clearRect(0,0,t.width,t.height)}}},mounted:function(){this.draw()}},r=o,s=(n("1dec"),n("2877")),c=Object(s["a"])(r,i,a,!1,null,"16bb9e5f",null);e["default"]=c.exports},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("transition",{attrs:{name:t.transitionName,css:Boolean(t.transitionName)}},[n("router-view",{staticClass:"app-view"})],1)],1)},o=[],r=(n("4de4"),n("b0c0"),n("ac1f"),n("1276"),{data:function(){return{transitionName:""}},watch:{$route:function(t,e){var n=t.path.split("/").filter((function(t){return t})).length,i=e.path.split("/").filter((function(t){return t})).length;null===e.name?this.transitionName="":this.transitionName=n===i?"van-fade":n>i?"slide-left":"slide-right"}}}),s=r,c=(n("7c55"),n("2877")),h=Object(c["a"])(s,a,o,!1,null,null,null),u=h.exports,l=n("8c4f"),d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("van-nav-bar",{attrs:{title:"Canvas",fixed:""}}),n("van-cell-group",[n("van-cell",{attrs:{title:"涂鸦","is-link":"",to:"/hand-writing"}}),n("van-cell",{attrs:{title:"刮刮乐","is-link":"",to:"/scratch-card"}}),n("van-cell",{attrs:{title:"贪吃蛇","is-link":"",to:"/snake"}})],1)],1)},f=[],v={},p=Object(c["a"])(v,d,f,!1,null,null,null),g=p.exports;i["a"].use(l["a"]);var y=[{path:"/",name:"Home",component:g},{path:"/hand-writing",name:"HandWriting",component:n("dd8a").default},{path:"/scratch-card",name:"ScratchCard",component:n("5572").default},{path:"/snake",name:"Snake",component:n("61ea").default}],w=new l["a"]({routes:y}),m=w,b=(n("0653"),n("34e9")),x=(n("c194"),n("7744")),k=(n("5246"),n("6b41")),O=(n("66b9"),n("b650")),T=function(t){t.use(O["a"]),t.use(k["a"]),t.use(x["a"]),t.use(b["a"])};n("a4b1");i["a"].config.productionTip=!1,i["a"].use(T),new i["a"]({router:m,render:function(t){return t(u)}}).$mount("#app")},"61ea":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("van-nav-bar",{attrs:{title:"贪吃蛇",fixed:"","left-arrow":""},on:{"click-left":function(e){return t.$router.go(-1)}}}),n("canvas",{ref:"canvas",staticClass:"canvas",attrs:{width:"600",height:"500"}})],1)},a=[],o=n("b85c"),r=n("ade3"),s=n("d4ec"),c=n("bee2"),h={methods:{draw:function(){var t=this.$refs.canvas,e=t.getContext("2d"),n=20,i={TOP:1,RIGHT:2,BOTTOM:3,LEFT:4},a=function(){function t(e,n,i,a,o){Object(s["a"])(this,t),this.x=e,this.y=n,this.width=i,this.height=a,this.color=o}return Object(c["a"])(t,[{key:"draw",value:function(){e.beginPath(),e.fillStyle=this.color,e.strokeStyle="#ff7752",e.fillRect(this.x,this.y,this.width,this.height),e.strokeRect(this.x,this.y,this.width,this.height)}}]),t}(),h=function(){function r(){Object(s["a"])(this,r),this.head=new a(t.width/2,t.height/2-10,n,n,"#ff7752"),this.addEventLisner(),this.timer=null,this.body=[],this.direction=i.RIGHT;for(var e=this.head.x-n,o=this.head.y,c=0;c<3;c++)this.body.push(new a(e,o,n,n,"#fff6f0")),e-=n;this.food=this.getFood()}return Object(c["a"])(r,[{key:"addEventLisner",value:function(){var t=this;document.onkeydown=function(e){switch(e.keyCode){case 37:t.direction=i.LEFT;break;case 38:t.direction=i.TOP;break;case 39:t.direction=i.RIGHT;break;case 40:t.direction=i.BOTTOM;break}}}},{key:"draw",value:function(){this.head.draw();var t,e=Object(o["a"])(this.body);try{for(e.s();!(t=e.n()).done;){var n=t.value;n.draw()}}catch(i){e.e(i)}finally{e.f()}this.food.draw()}},{key:"_getRandom",value:function(t,e){return Math.round(Math.random()*(e-t))+t}},{key:"isRectInSnake",value:function(t){if(t.x===this.head.x&&t.y===this.head.y)return!0;var e,n=Object(o["a"])(this.body);try{for(n.s();!(e=n.n()).done;){var i=e.value;if(i.x===this.head.x&&i.y===this.head.y)return!0}}catch(a){n.e(a)}finally{n.f()}}},{key:"getFood",value:function(){var e=!0;while(e){var i=this._getRandom(0,(t.width-n)/n)*n,o=this._getRandom(0,(t.height-n)/n)*n,r=new a(i,o,n,n,"green");if(!this.isRectInSnake(r))return r}}},{key:"isHitWall",value:function(){var e=this.head.x+n>t.width||this.head.x<0||this.head.y<0||this.head.y+n>t.height;return console.log("isHitWall",e),e}},{key:"isHitSelf",value:function(){var t,e=Object(o["a"])(this.body);try{for(e.s();!(t=e.n()).done;){var n=t.value;if(n.x===this.head.x&&n.y===this.head.y)return console.log("isHitSelf"),!0}}catch(i){e.e(i)}finally{e.f()}}},{key:"move",value:function(){var t=new a(this.head.x,this.head.y,this.head.width,this.head.height,"#fff6f0");switch(this.body.unshift(t),!1===r.hasEatFood&&this.body.pop(),this.direction){case i.TOP:this.head.y-=this.head.height;break;case i.RIGHT:this.head.x+=this.head.width;break;case i.BOTTOM:this.head.y+=this.head.height;break;case i.LEFT:this.head.x-=this.head.width;break;default:console.log("default")}if(this.isHitWall()||this.isHitSelf())return clearInterval(this.timer),void alert("game over");this.draw(),this.food.x===this.head.x&&this.food.y===this.food.y?(r.hasEatFood=!0,this.food=this.getFood()):r.hasEatFood=!1}},{key:"start",value:function(){var n=this;this.draw(),this.timer=setInterval((function(){e.clearRect(0,0,t.width,t.height),n.move()}),250)}}]),r}();Object(r["a"])(h,"hasEatFood",!1);var u=new h;u.start()}},mounted:function(){this.draw()}},u=h,l=(n("c6ee"),n("2877")),d=Object(l["a"])(u,i,a,!1,null,"272ede63",null);e["default"]=d.exports},"7c55":function(t,e,n){"use strict";var i=n("2395"),a=n.n(i);a.a},"7e6a":function(t,e,n){},"814a":function(t,e,n){"use strict";var i=n("c032"),a=n.n(i);a.a},"8d44":function(t,e,n){},"8d5a":function(t,e,n){t.exports=n.p+"img/scratch-card.6236bb0e.jpg"},a4b1:function(t,e,n){},c032:function(t,e,n){},c6ee:function(t,e,n){"use strict";var i=n("8d44"),a=n.n(i);a.a},dd8a:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container",on:{touchmove:function(t){t.stopPropagation(),t.preventDefault()}}},[n("van-nav-bar",{attrs:{title:"涂鸦",fixed:"","left-arrow":""},on:{"click-left":function(e){return t.$router.go(-1)}}}),n("canvas",{ref:"canvas",staticClass:"canvas",attrs:{width:"300",height:"500"}})],1)},a=[],o={methods:{removeCanvasSawhooth:function(t,e){var n=t.width,i=t.height;window.devicePixelRatio&&(t.style.width=n+"px",t.style.height=i+"px",t.height=i*window.devicePixelRatio,t.width=n*window.devicePixelRatio),e.scale(window.devicePixelRatio,window.devicePixelRatio)},draw:function(){var t=this.$refs.canvas,e=t.getContext("2d");this.removeCanvasSawhooth(t,e);var n=!1,i=0,a=0;t.ontouchstart=t.onmousedown=function(o){n=!0;var r=t.getBoundingClientRect();"touchstart"===o.type?(i=o.changedTouches[0].clientX-r.x,a=o.changedTouches[0].clientY-r.y):"mousedown"===o.type&&(i=o.clientX-r.x,a=o.clientY-r.y),e.strokeStyle="#ff7752",e.lineCap="round",e.lineWidth=10,e.beginPath(),e.moveTo(i,a)},t.ontouchmove=t.onmousemove=function(o){if(n){var r=t.getBoundingClientRect();"touchmove"===o.type?(i=o.changedTouches[0].clientX-r.x,a=o.changedTouches[0].clientY-r.y):"mousemove"===o.type&&(i=o.clientX-r.x,a=o.clientY-r.y),e.lineTo(i,a),e.stroke()}},t.ontouchend=t.onmouseup=function(){n=!1}}},mounted:function(){this.draw()}},r=o,s=(n("814a"),n("2877")),c=Object(s["a"])(r,i,a,!1,null,"29b970f0",null);e["default"]=c.exports}});
//# sourceMappingURL=app.34d0451b.js.map